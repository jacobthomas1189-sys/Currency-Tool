<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Premium Currency Tool</title>

<link rel="manifest" href="manifest.json">

<style>
body{
    margin:0;
    height:100vh;
    background:radial-gradient(circle at top,#1a1a1a,#000);
    display:flex;
    align-items:center;
    justify-content:center;
    font-family:Segoe UI, Arial, sans-serif;
    color:#fff;
}

.card{
    position:relative;
    width:400px;
    padding:34px 26px;
    border-radius:16px;
    background:linear-gradient(145deg,#222,#111);
    box-shadow:0 28px 70px rgba(0,0,0,.95);
}

.brand{
    position:absolute;
    top:14px;
    left:16px;
    font-size:12px;
    color:#aaa;
}

label{
    display:block;
    margin-top:14px;
    font-size:14px;
}

.input-row{
    display:flex;
    gap:8px;
}

input, select{
    width:100%;
    margin-top:6px;
    padding:11px;
    border-radius:7px;
    border:none;
    font-size:15px;
}

.result{
    margin-top:22px;
    background:#0b0b0b;
    padding:18px;
    border-radius:10px;
    line-height:1.9;
    font-size:15px;
    min-height:230px;
}

.highlight{
    font-size:18px;
    color:#0a84ff;
    font-weight:600;
}

.row{ margin-top:8px; }
.profit{ color:#00c853; font-weight:600; }

hr{
    border:0;
    border-top:1px solid #222;
    margin:14px 0;
}

.copy-row{
    display:flex;
    justify-content:space-between;
    align-items:center;
}

.copy-icon{
    cursor:pointer;
    opacity:.6;
}
.copy-icon:hover{ opacity:1; }

.toast{
    position:fixed;
    bottom:20px;
    left:50%;
    transform:translateX(-50%);
    background:#111;
    color:#00ff9c;
    padding:10px 16px;
    border-radius:8px;
    font-size:14px;
    opacity:0;
    transition:.3s;
}
.toast.show{ opacity:1; }
</style>
</head>

<body>

<div class="card">

    <div class="brand">Built by Faisal Aslam â€“ SEBT-15</div>

    <label>Currency Amount</label>
    <input type="number" id="amount" placeholder="Enter amount">

    <label>Currency Rate Against USDT</label>
    <input type="number" id="currencyUsdt" step="0.0001">

    <label>USDT â†’ PKR Rate</label>
    <input type="number" id="usdtPkr" step="0.01">

    <label>Client Rate</label>
    <div class="input-row">
        <input type="number" id="clientRate" step="0.0001">
        <select id="clientType">
            <option value="PKR">PKR</option>
            <option value="USDT">USDT</option>
        </select>
    </div>

    <div class="result" id="output">
        Enter values above to see result.
    </div>

</div>

<div class="toast" id="toast">Copied successfully</div>

<script>
document.addEventListener("DOMContentLoaded", () => {

    const amount = document.getElementById("amount");
    const currencyUsdt = document.getElementById("currencyUsdt");
    const usdtPkr = document.getElementById("usdtPkr");
    const clientRate = document.getElementById("clientRate");
    const clientType = document.getElementById("clientType");
    const output = document.getElementById("output");
    const toast = document.getElementById("toast");

    window.copyText = text => {
        navigator.clipboard.writeText(text);
        toast.classList.add("show");
        setTimeout(()=>toast.classList.remove("show"),1500);
    };

    function calculate(){

        const a = parseFloat(amount.value);
        const r = parseFloat(currencyUsdt.value);
        const u = parseFloat(usdtPkr.value);
        const c = parseFloat(clientRate.value);
        const t = clientType.value;

        if(!a || !r){
            output.innerHTML = "Enter values above to see result.";
            return;
        }

        const marketUSDT = a / r;
        let html = `<div class="row"><b>Currency â†’ USDT:</b> ${marketUSDT.toFixed(3)}</div>`;

        if(u){
            const totalPKR = marketUSDT * u;
            const finalRate = totalPKR / a;

            html += `
                <div class="highlight row">Final Currency â†’ PKR Rate: ${finalRate.toFixed(2)}</div>
                <hr>
                <div class="row copy-row">
                    <span><b>Total PKR:</b> ${totalPKR.toLocaleString()} PKR</span>
                    <span class="copy-icon" onclick="copyText('${totalPKR} PKR')">ðŸ“‹</span>
                </div>
            `;
        }

        if(c && t === "PKR" && u){
            const clientPKR = c * a;
            const profit = (marketUSDT * u) - clientPKR;

            html += `
                <div class="row copy-row">
                    <span><b>Client PKR:</b> ${clientPKR.toLocaleString()} PKR</span>
                    <span class="copy-icon" onclick="copyText('${clientPKR} PKR')">ðŸ“‹</span>
                </div>
                <div class="row profit copy-row">
                    <span><b>Your Profit:</b> ${profit.toFixed(2)} PKR</span>
                    <span class="copy-icon" onclick="copyText('${profit.toFixed(2)} PKR')">ðŸ“‹</span>
                </div>
            `;
        }

        if(c && t === "USDT"){
            const clientUSDT = a / c;
            const profitUSDT = marketUSDT - clientUSDT;

            html += `
                <div class="row copy-row">
                    <span><b>Client USDT:</b> ${clientUSDT.toFixed(2)} USDT</span>
                    <span class="copy-icon" onclick="copyText('${clientUSDT.toFixed(2)} USDT')">ðŸ“‹</span>
                </div>
                <div class="row profit copy-row">
                    <span><b>Your Profit:</b> ${profitUSDT.toFixed(2)} USDT</span>
                    <span class="copy-icon" onclick="copyText('${profitUSDT.toFixed(2)} USDT')">ðŸ“‹</span>
                </div>
            `;
        }

        output.innerHTML = html;
    }

    document.querySelectorAll("input,select").forEach(el=>{
        el.addEventListener("input", calculate);
        el.addEventListener("change", calculate);
    });

    calculate();
});
</script>

<script>
if("serviceWorker" in navigator){
    navigator.serviceWorker.register("sw.js");
}
</script>

</body>
</html>
